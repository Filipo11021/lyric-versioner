<%# locals: (song:) %>
<%= link_to song_path(song), class: "block h-full" do %>
  <div class="bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 p-6 flex flex-col justify-between h-full group">
    <div class="mb-4">
      <h2 class="text-xl font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors duration-300" title="<%= song.title %>">
        <%= song.title %>
      </h2>
    </div>

    <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100 text-sm text-gray-500">
      <div class="flex items-center">
        <%= render "songs/icons/branch_icon" %>
        <span><%= song.branches.count %> branches</span>
      </div>

      <div class="flex items-center" title="Latest commit: <%= song.latest_commit&.timestamp %>">
        <% if song.latest_commit %>
          <%= render "songs/icons/clock_icon" %>
          <span><%= song.latest_commit.timestamp.strftime("%b %d, %Y") %></span>
        <% else %>
          <span class="italic text-gray-400">No commits</span>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
